(()=>{"use strict";var e={762:(e,t,n)=>{n.d(t,{__:()=>j,yG:()=>T,mB:()=>A});const d=(e,t,n,d,o)=>({id:e,name:t,dueDate:n,finished:d,description:o});function o(e){j=e}function i(e){localStorage.setItem("projectsList",JSON.stringify(e))}const l=document.getElementById("newproject"),c=document.querySelector("#project-submit-button"),a=document.querySelector("#add-task-button"),r=document.getElementById("projects-list"),s=document.getElementById("todos"),u=document.querySelector("#close-modal"),m=document.querySelector("#modal-submit-button"),p=document.getElementById("modal"),v=document.getElementById("name"),y=document.getElementById("due-date"),E=document.getElementById("finished"),f=document.getElementById("description"),h=document.querySelector("#edit-close-modal"),g=document.querySelector("#edit-modal-submit-button"),b=document.getElementById("edit-modal"),D=document.getElementById("edit-name"),I=document.getElementById("edit-due-date"),k=document.getElementById("edit-finished"),x=document.getElementById("edit-description");function L(e){let t,n;r.innerHTML="",t=e.map((e=>e.name)),n=e.map((e=>e.id));for(let e in t){const d=document.createElement("li");d.setAttribute("data-index",n[e]);const l=document.createElement("div");l.setAttribute("class","projects-list-item");const c=document.createElement("div");c.textContent=t[e],l.appendChild(c);const a=document.createElement("div");a.setAttribute("class","delete-item"),a.textContent="X",l.appendChild(a),d.appendChild(l),r.appendChild(d),a.addEventListener("click",(t=>{var n;d.parentNode.removeChild(d),n=e,A.splice(n,1),i(A)})),d.addEventListener("click",(e=>{o(e.target.parentNode.dataset.index);let t=A.findIndex((e=>e.id===j));C(t),B(t)}))}}function C(e){let t=document.querySelectorAll("[data-index]");t.forEach((e=>{e.classList.remove("active-project")})),t[e].setAttribute("class","active-project")}function B(e){s.innerHTML="";let t=A[e],n=A[e].showToDo();for(let e in n){let d=document.createElement("div");d.setAttribute("class","todo"),d.setAttribute("data-id",n[e].id),d.textContent=n[e].name+" Due Date: "+n[e].dueDate+" Finished: "+n[e].finished+" Description: "+n[e].description;let o=document.createElement("div");o.setAttribute("class","todo-controls");let l=document.createElement("div");l.setAttribute("class","delete-item"),l.textContent="X";let c=document.createElement("div");c.setAttribute("class","edit-todo"),c.textContent="Edit",s.appendChild(d),o.appendChild(c),o.appendChild(l),d.appendChild(o),l.addEventListener("click",(n=>{d.parentNode.removeChild(d),t.deleteToDo(e),i(A)})),c.addEventListener("click",(t=>{T=t.target.parentNode.parentNode.dataset.id,console.log("curent project "+j+"curent task id "+T),b.style.display="block",D.value=n[e].name,I.value=n[e].dueDate,k.checked=n[e].finished,x.value=n[e].description}))}}function S(){v.value="",y.value="",E.checked=!1,f.value=""}let j,T,A=["d"];u.addEventListener("click",(e=>{p.style.display="none"})),h.addEventListener("click",(e=>{b.style.display="none"})),m.addEventListener("click",(e=>{e.preventDefault(),p.style.display="none";let t=A.findIndex((e=>e.id===j)),n=Date.now().toString(),o=d(n,v.value,y.value,E.checked,f.value);A[t].addToDo(o),i(A),B(t),S()})),g.addEventListener("click",(e=>{e.preventDefault(),b.style.display="none";let t=A.findIndex((e=>e.id===j)),n=A[t].showToDo().findIndex((e=>e.id===T)),o=d(T,D.value,I.value,k.checked,x.value);A[t].editToDo(n,o),i(A),B(t),S()})),c.addEventListener("click",(e=>{e.preventDefault();let t=Date.now().toString(),n=((e,t)=>{let n=[];return{id:e,name:t,toDoItems:n,showToDo:()=>n,addToDo:e=>{n.push(e)},deleteToDo:e=>{n.splice(e,1)},editToDo:(e,t)=>{n[e]=t}}})(t,l.value);A.push(n),i(A),L(A),l.value="";let d=A.findIndex((e=>e.id===t));o(t),C(d)})),a.addEventListener("click",(e=>{p.style.display="block",console.log("current project: "+j)})),function(){if(localStorage.projectsList){let e=JSON.parse(localStorage.getItem("projectsList"));A=e,console.log(e),L(A)}else L(A)}()}},t={};function n(d){if(t[d])return t[d].exports;var o=t[d]={exports:{}};return e[d](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var d in t)n.o(t,d)&&!n.o(e,d)&&Object.defineProperty(e,d,{enumerable:!0,get:t[d]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n(762)})();