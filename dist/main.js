(()=>{"use strict";var e={762:(e,t,n)=>{n.d(t,{__:()=>$,yG:()=>O,mB:()=>H});const d=(e,t)=>{let n=[];return{id:e,name:t,toDoItems:n,showToDo:()=>n,addToDo:e=>{n.push(e)},deleteToDo:e=>{n.splice(e,1)},editToDo:(e,t)=>{n[e]=t}}},o=(e,t,n,d,o)=>({id:e,name:t,dueDate:n,finished:d,description:o});function i(e){$=e}function l(e){localStorage.setItem("projectsList",JSON.stringify(e))}const a=document.getElementById("newproject"),c=document.querySelector("#project-submit-button"),s=document.querySelector("#add-task-button"),r=document.getElementById("projects-list"),u=document.getElementById("todos"),m=document.getElementById("all-tasks"),p=document.querySelector("#close-modal"),v=document.querySelector("#modal-submit-button"),y=document.getElementById("modal"),f=document.getElementById("name"),E=document.getElementById("due-date"),g=document.getElementById("finished"),D=document.getElementById("description"),I=document.getElementById("edit-task-title"),h=document.querySelector("#edit-close-modal"),b=document.querySelector("#edit-modal-submit-button"),k=document.getElementById("edit-modal"),x=document.getElementById("edit-name"),C=document.getElementById("edit-due-date"),L=document.getElementById("edit-finished"),B=document.getElementById("edit-description");function S(e){let t,n;r.innerHTML="",t=e.map((e=>e.name)),n=e.map((e=>e.id));for(let e in t){const d=document.createElement("li");d.setAttribute("data-index",n[e]);const o=document.createElement("div");o.setAttribute("class","projects-list-item");const a=document.createElement("div");a.textContent=t[e],o.appendChild(a);const c=document.createElement("div");c.setAttribute("class","delete-item"),c.textContent="X",o.appendChild(c),d.appendChild(o),r.appendChild(d),c.addEventListener("click",(t=>{var n;d.parentNode.removeChild(d),n=e,H.splice(n,1),l(H)})),d.addEventListener("click",(e=>{i(e.target.parentNode.dataset.index);let t=H.findIndex((e=>e.id===$));T(t),N(t)}))}}function T(e){let t=document.querySelectorAll("[data-index]");t.forEach((e=>{e.classList.remove("active-project")})),t[e].setAttribute("class","active-project")}function j(){u.innerHTML="";let e=[];for(let t in H)for(let n in H[t].toDoItems)e.push(H[t].toDoItems[n]);console.log(e);for(let t in e)A(t,e)}function A(e,t){let n=document.createElement("div");n.setAttribute("class","todo"),n.setAttribute("data-id",t[e].id);let d=t[e].name.toUpperCase();n.textContent=`${d}, Due Date: ${t[e].dueDate}`,u.appendChild(n)}function N(e){u.innerHTML="";let t=H[e].showToDo();for(let e in t)w(e,t)}function w(e,t){let n=document.createElement("div");n.setAttribute("class","todo"),n.setAttribute("data-id",t[e].id);let d=t[e].name.toUpperCase();n.textContent=`${d}, Due Date: ${t[e].dueDate}`;let o=document.createElement("div");o.setAttribute("class","todo-controls");let i=document.createElement("div");i.setAttribute("class","delete-item"),i.textContent="X";let a=document.createElement("div");a.setAttribute("class","edit-todo"),a.textContent="See/Edit",u.appendChild(n),o.appendChild(a),o.appendChild(i),n.appendChild(o),i.addEventListener("click",(e=>{O=e.target.parentNode.parentNode.dataset.id;let t=H.findIndex((e=>e.id===$)),d=H[t].showToDo().findIndex((e=>e.id===O));H[t].deleteToDo(d),n.parentNode.removeChild(n),l(H)})),a.addEventListener("click",(n=>{O=n.target.parentNode.parentNode.dataset.id,console.log(`curent project ${$} curent task id ${O}`),k.style.display="block",I.textContent=t[e].name,x.value=t[e].name,C.value=t[e].dueDate,L.checked=t[e].finished,B.value=t[e].description}))}function q(){f.value="",E.value="",g.checked=!1,D.value=""}let $,O,H=[];p.addEventListener("click",(e=>{y.style.display="none"})),h.addEventListener("click",(e=>{k.style.display="none"})),m.addEventListener("click",(e=>{j()})),v.addEventListener("click",(e=>{e.preventDefault(),y.style.display="none";let t=H.findIndex((e=>e.id===$)),n=Date.now().toString(),d=o(n,f.value,E.value,g.checked,D.value);H[t].addToDo(d),l(H),N(t),q()})),b.addEventListener("click",(e=>{e.preventDefault(),k.style.display="none";let t=H.findIndex((e=>e.id===$)),n=H[t].showToDo().findIndex((e=>e.id===O)),d=o(O,x.value,C.value,L.checked,B.value);H[t].editToDo(n,d),l(H),N(t),q()})),c.addEventListener("click",(e=>{e.preventDefault();let t=Date.now().toString(),n=d(t,a.value);H.push(n),l(H),S(H),a.value="";let o=H.findIndex((e=>e.id===t));i(t),T(o),N(o)})),s.addEventListener("click",(e=>{y.style.display="block"})),function(){if(localStorage.projectsList){let e=JSON.parse(localStorage.getItem("projectsList"));for(let t in e){let n=d(e[t].id,e[t].name);H[t]=n;for(let n in e[t].toDoItems){let d=e[t].toDoItems[n];H[t].addToDo(d)}}console.log(H),S(H),j()}else S(H)}()}},t={};function n(d){if(t[d])return t[d].exports;var o=t[d]={exports:{}};return e[d](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var d in t)n.o(t,d)&&!n.o(e,d)&&Object.defineProperty(e,d,{enumerable:!0,get:t[d]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n(762)})();